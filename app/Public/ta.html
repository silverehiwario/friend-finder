<!DOCTYPE html>
<html>
<head>
  <title>Forms</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="style">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
 
</head>

<body>


 <div class="container">
      <div class="navbar-header bg-primary" >
        <div class="d-inline-flex p-2 "></div><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQr8NqMVVs4EF88_wz_hDnIJE4wweaw-c-WVoqAUQRHqysz7-9p" id = "finder">
      </div>
      <div class="collapse navbar-collapse text-success " id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav navbar-right ">
          <li><a href="/"><span class="glyphicon glyphicon-home" aria-hidden="true"></span>Home</a></li>
          <li><a href="/signup"><span class="glyphicon glyphicon-user" aria-hidden="true"></span>SignUp</a></li>
          <li><a href="/page"><span class="glyphicon glyphicon-user" aria-hidden="true"></span>Login</a></li> 
          </ul>
      </div>
    </div>
   
   <div class="container" id = "men1">

    <div class="row">
   
        <div class="col-md-8 col-sm-12 col-xs-12" >
          
           <div class="row">
           <div class="col-md-12">
            <form>
              <div class="form-group">
              <label for="exampleInputName">Name</label>
              <input type="name" class="form-control" id="exampleInputName1" aria-describedby="emailHelp"   placeholder="John Smith">
             </div>
              <div class="form-group">
                <label for="exampleInputEmail1">Email address</label>
                <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
               
              </div>
              <div class="form-group">
              <label for="exampleInputName">Class</label>
              <input type="name" class="form-control" id="exampleInputName3" aria-describedby="monthHelp" placeholder="June 2017">
              </div>
              <div class="form-group">
              <label for="exampleInputName">Username</label>
              <input type="name" class="form-control" id="exampleInputName2" aria-describedby="emailHelp"   placeholder="John Smith">
              </div>
              <div class="form-group">
                <label for="exampleInputPassword1">Password</label>
                <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
              </div>
              <div class="form-group">
                <label for="exampleInputPassword1">Confirm Password</label>
                <input type="password" class="form-control" id="exampleInputPassword2" placeholder="Password">
              </div>
              <div class="form-group">
                <label for="exampleFormControlSelect1">Position</label>
                <select class="form-control" id="exampleFormControlSelect1">
                  <option>TA</option>
                  <option>Student</option>
                  </select>
              </div>
              
              <button type="submit"  id = "first" class="btn btn-primary">Submit</button>
            </form>
           </div>
         </div>
       </div>
        
      

    </div>
  </div>
<div class="container" id= "yoga">
 
 <footer>
 <h6 class= "text-center"> @ copyright 2017 Silver Ehiwario </h6>
</footer>
 </div>
    
</body>
</html>

<script type="text/javascript">
    
   $("#first").on("click", function(event) {
      event.preventDefault();
      // Here we grab the form elements
      var newtas = {
        Name: $("#exampleInputName1").val().trim(),
        Email: $("#exampleInputEmail1").val().trim(),
        Password: $("#exampleInputPassword1").val().trim(),
        Username: $("#exampleInputName2").val().trim(),
        Position: $("#exampleFormControlSelect1").val().trim(),
        Class: $("#exampleInputName3").val().trim()
        };
       
       var confirmPass = $("#exampleInputPassword2").val().trim()
       console.log(newtas);
      // This line is the magic. It"s very similar to the standard ajax function we used.
      // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
      // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
      // depending on if a tables is available or not.
        if (newtas.Password === confirmPass ) {
        $.post("/ta", newtas,
         function(data) {
          // If a table is available... tell user they are booked.
          if (data) {
            alert(" Officially added !");
          }
          // If a table is available... tell user they on the waiting list.
          
          // Clear the form when submitting
          $("#exampleInputName1").val("");
          $("#exampleInputEmail1").val("");
          $("#exampleInputPassword1").val("");
          $("#exampleInputPassword2").val("");
          $("#exampleInputName2").val("");
          $("#exampleFormControlSelect1").val("");
          $("#exampleInputName3").val("");
          

          });
      } else {
          alert("Password does not match");
      }
    });
</script>